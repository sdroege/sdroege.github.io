<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Clock` struct in crate `gstreamer`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Clock">

    <title>gstreamer::Clock - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'>Struct Clock</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.adjust_with_calibration">adjust_with_calibration</a><a href="#method.unadjust_with_calibration">unadjust_with_calibration</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Clone">Clone</a><a href="#impl-Debug">Debug</a><a href="#impl-Hash">Hash</a><a href="#impl-StaticType">StaticType</a><a href="#impl-PartialEq%3CT%3E">PartialEq&lt;T&gt;</a><a href="#impl-Eq">Eq</a><a href="#impl-IsA%3CObject%3E">IsA&lt;Object&gt;</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-IsA%3CClock%3E">IsA&lt;Clock&gt;</a></div></div><p class='location'><a href='index.html'>gstreamer</a></p><script>window.sidebarCurrent = {name: 'Clock', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>gstreamer</a>::<wbr><a class="struct" href=''>Clock</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span></span></h1>
<pre class='rust struct'>pub struct Clock(_, _);</pre><div class='docblock'><p>GStreamer uses a global clock to synchronize the plugins in a pipeline.
Different clock implementations are possible by implementing this abstract
base class or, more conveniently, by subclassing <code>SystemClock</code>.</p>

<p>The <code>Clock</code> returns a monotonically increasing time with the method
<code>ClockExt::get_time</code>. Its accuracy and base time depend on the specific
clock implementation but time is always expressed in nanoseconds. Since the
baseline of the clock is undefined, the clock time returned is not
meaningful in itself, what matters are the deltas between two clock times.
The time returned by a clock is called the absolute time.</p>

<p>The pipeline uses the clock to calculate the running time. Usually all
renderers synchronize to the global clock using the buffer timestamps, the
newsegment events and the element&#39;s base time, see <code>Pipeline</code>.</p>

<p>A clock implementation can support periodic and single shot clock
notifications both synchronous and asynchronous.</p>

<p>One first needs to create a <code>ClockID</code> for the periodic or single shot
notification using <code>ClockExt::new_single_shot_id</code> or
<code>ClockExt::new_periodic_id</code>.</p>

<p>To perform a blocking wait for the specific time of the <code>ClockID</code> use the
<code>Clock::id_wait</code>. To receive a callback when the specific time is reached
in the clock use <code>Clock::id_wait_async</code>. Both these calls can be
interrupted with the <code>Clock::id_unschedule</code> call. If the blocking wait is
unscheduled a return value of <code>ClockReturn::Unscheduled</code> is returned.</p>

<p>Periodic callbacks scheduled async will be repeatedly called automatically
until it is unscheduled. To schedule a sync periodic callback,
<code>Clock::id_wait</code> should be called repeatedly.</p>

<p>The async callbacks can happen from any thread, either provided by the core
or from a streaming thread. The application should be prepared for this.</p>

<p>A <code>ClockID</code> that has been unscheduled cannot be used again for any wait
operation, a new <code>ClockID</code> should be created and the old unscheduled one
should be destroyed with <code>Clock::id_unref</code>.</p>

<p>It is possible to perform a blocking wait on the same <code>ClockID</code> from
multiple threads. However, registering the same <code>ClockID</code> for multiple
async notifications is not possible, the callback will only be called for
the thread registering the entry last.</p>

<p>None of the wait operations unref the <code>ClockID</code>, the owner is responsible
for unreffing the ids itself. This holds for both periodic and single shot
notifications. The reason being that the owner of the <code>ClockID</code> has to
keep a handle to the <code>ClockID</code> to unblock the wait on FLUSHING events or
state changes and if the entry would be unreffed automatically, the handle
might become invalid without any notification.</p>

<p>These clock operations do not operate on the running time, so the callbacks
will also occur when not in PLAYING state as if the clock just keeps on
running. Some clocks however do not progress when the element that provided
the clock is not PLAYING.</p>

<p>When a clock has the <code>ClockFlags::CanSetMaster</code> flag set, it can be
slaved to another <code>Clock</code> with the <code>ClockExt::set_master</code>. The clock will
then automatically be synchronized to this master clock by repeatedly
sampling the master clock and the slave clock and recalibrating the slave
clock with <code>ClockExt::set_calibration</code>. This feature is mostly useful for
plugins that have an internal clock but must operate with another clock
selected by the <code>Pipeline</code>. They can track the offset and rate difference
of their internal clock relative to the master clock by using the
<code>ClockExt::get_calibration</code> function.</p>

<p>The master/slave synchronisation can be tuned with the <code>Clock:timeout</code>,
<code>Clock:window-size</code> and <code>Clock:window-threshold</code> properties.
The <code>Clock:timeout</code> property defines the interval to sample the master
clock and run the calibration functions. <code>Clock:window-size</code> defines the
number of samples to use when calibrating and <code>Clock:window-threshold</code>
defines the minimum number of samples before the calibration is performed.</p>

<h1 id='implements' class='section-header'><a href='#implements'>Implements</a></h1>
<p><a href="trait.ClockExt.html"><code>ClockExt</code></a>, <a href="trait.GstObjectExt.html"><code>GstObjectExt</code></a>, <a href="../glib/object/trait.ObjectExt.html"><code>glib::object::ObjectExt</code></a></p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer/clock.rs.html#129-167' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.adjust_with_calibration' class="method"><span id='adjust_with_calibration.v' class='invisible'><code>pub fn <a href='#method.adjust_with_calibration' class='fnname'>adjust_with_calibration</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;internal_target: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cinternal: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cexternal: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cnum: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cdenom: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a><br>) -&gt; <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer/clock.rs.html#130-147' title='goto source code'>[src]</a></span></h4>
<h4 id='method.unadjust_with_calibration' class="method"><span id='unadjust_with_calibration.v' class='invisible'><code>pub fn <a href='#method.unadjust_with_calibration' class='fnname'>unadjust_with_calibration</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;external_target: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cinternal: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cexternal: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cnum: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;cdenom: <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a><br>) -&gt; <a class="struct" href="../gstreamer/struct.ClockTime.html" title="struct gstreamer::ClockTime">ClockTime</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer/clock.rs.html#149-166' title='goto source code'>[src]</a></span></h4>
</div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
        <h3 id='impl-Clone' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-Clone' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.clone' class="method"><span id='clone.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code></span></h4>
<div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class="method"><span id='clone_from.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</code></span><span class='out-of-band'><div class='ghost'></div><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/clone.rs.html#112-114' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div><h3 id='impl-Debug' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-Debug' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span></h4>
<div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></div><h3 id='impl-Hash' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-Hash' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.hash' class="method"><span id='hash.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html#tymethod.hash' class='fnname'>hash</a>&lt;__H:&nbsp;<a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html" title="trait core::hash::Hasher">Hasher</a>&gt;(&amp;self, __arg_0: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>__H)</code></span></h4>
<div class='docblock'><p>Feeds this value into the given [<code>Hasher</code>]. <a href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html#tymethod.hash">Read more</a></p>
</div><h4 id='method.hash_slice' class="method"><span id='hash_slice.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html#method.hash_slice' class='fnname'>hash_slice</a>&lt;H&gt;(data: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[Self]</a>, state: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>H) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;H: <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html" title="trait core::hash::Hasher">Hasher</a>,&nbsp;</span></code></span><span class='out-of-band'><div class='ghost'></div><div class='since' title='Stable since Rust version 1.3.0'>1.3.0</div><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/hash/mod.rs.html#202-208' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Feeds a slice of this type into the given [<code>Hasher</code>]. <a href="https://doc.rust-lang.org/nightly/core/hash/trait.Hash.html#method.hash_slice">Read more</a></p>
</div></div><h3 id='impl-StaticType' class='impl'><span class='in-band'><code>impl <a class="trait" href="../gstreamer/trait.StaticType.html" title="trait gstreamer::StaticType">StaticType</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-StaticType' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.static_type' class="method"><span id='static_type.v' class='invisible'><code>fn <a href='../gstreamer/trait.StaticType.html#tymethod.static_type' class='fnname'>static_type</a>() -&gt; <a class="enum" href="../gstreamer/enum.Type.html" title="enum gstreamer::Type">Type</a></code></span></h4>
<div class='docblock'><p>Returns the type identifier of <code>Self</code>.</p>
</div></div><h3 id='impl-PartialEq%3CT%3E' class='impl'><span class='in-band'><code>impl&lt;T:&nbsp;<a class="trait" href="../gstreamer/trait.IsA.html" title="trait gstreamer::IsA">IsA</a>&lt;<a class="struct" href="../glib/object/struct.Object.html" title="struct glib::object::Object">Object</a>&gt;&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a>&lt;T&gt; for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-PartialEq%3CT%3E' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.eq' class="method"><span id='eq.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html#tymethod.eq' class='fnname'>eq</a>(&amp;self, other: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span></h4>
<div class='docblock'><p>This method tests for <code>self</code> and <code>other</code> values to be equal, and is used by <code>==</code>. <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html#tymethod.eq">Read more</a></p>
</div><h4 id='method.ne' class="method"><span id='ne.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html#method.ne' class='fnname'>ne</a>(&amp;self, other: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Rhs) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><span class='out-of-band'><div class='ghost'></div><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/cmp.rs.html#121' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>This method tests for <code>!=</code>.</p>
</div></div><h3 id='impl-Eq' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-Eq' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'></div><h3 id='impl-IsA%3CObject%3E' class='impl'><span class='in-band'><code>impl <a class="trait" href="../gstreamer/trait.IsA.html" title="trait gstreamer::IsA">IsA</a>&lt;<a class="struct" href="../gstreamer/struct.Object.html" title="struct gstreamer::Object">Object</a>&gt; for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-IsA%3CObject%3E' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'></div><h3 id='impl-IsA%3CObject%3E-1' class='impl'><span class='in-band'><code>impl <a class="trait" href="../gstreamer/trait.IsA.html" title="trait gstreamer::IsA">IsA</a>&lt;<a class="struct" href="../glib/object/struct.Object.html" title="struct glib::object::Object">Object</a>&gt; for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-IsA%3CObject%3E-1' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'></div><h3 id='impl-Send' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-Send' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer/auto/clock.rs.html#136' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div><h3 id='impl-Sync' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a></code><a href='#impl-Sync' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer/auto/clock.rs.html#137' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div><h3 id='impl-IsA%3CClock%3E' class='impl'><span class='in-band'><code>impl <a class="trait" href="../gstreamer/trait.IsA.html" title="trait gstreamer::IsA">IsA</a>&lt;<a class="struct" href="../gstreamer/struct.Clock.html" title="struct gstreamer::Clock">Clock</a>&gt; for <a class="struct" href="../gstreamer/struct.SystemClock.html" title="struct gstreamer::SystemClock">SystemClock</a></code><a href='#impl-IsA%3CClock%3E' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>↑</dt>
                    <dd>Move up in search results</dd>
                    <dt>↓</dt>
                    <dd>Move down in search results</dd>
                    <dt>↹</dt>
                    <dd>Switch tab</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt style="width:31px;">+ / -</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "gstreamer";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>