<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `AudioStreamAlign` struct in crate `gstreamer_audio`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, AudioStreamAlign">

    <title>gstreamer_audio::AudioStreamAlign - Rust</title>

    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'>Struct AudioStreamAlign</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.new">new</a><a href="#method.get_alignment_threshold">get_alignment_threshold</a><a href="#method.get_discont_wait">get_discont_wait</a><a href="#method.get_rate">get_rate</a><a href="#method.get_samples_since_discont">get_samples_since_discont</a><a href="#method.get_timestamp_at_discont">get_timestamp_at_discont</a><a href="#method.mark_discont">mark_discont</a><a href="#method.set_alignment_threshold">set_alignment_threshold</a><a href="#method.set_discont_wait">set_discont_wait</a><a href="#method.set_rate">set_rate</a><a href="#method.process">process</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Clone">Clone</a><a href="#impl-Debug">Debug</a><a href="#impl-StaticType">StaticType</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a></div></div><p class='location'><a href='index.html'>gstreamer_audio</a></p><script>window.sidebarCurrent = {name: 'AudioStreamAlign', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>gstreamer_audio</a>::<wbr><a class="struct" href=''>AudioStreamAlign</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span></span></h1>
<pre class='rust struct'>pub struct AudioStreamAlign(_);</pre><div class='docblock'><p><code>AudioStreamAlign</code> provides a helper object that helps tracking audio
stream alignment and discontinuities, and detects discontinuities if
possible.</p>

<p>See <code>AudioStreamAlign::new</code> for a description of its parameters and
<code>AudioStreamAlign::process</code> for the details of the processing.</p>

<p>Feature: <code>v1_14</code></p>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><code>impl <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#32-149' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><code>pub fn <a href='#method.new' class='fnname'>new</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;rate: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;alignment_threshold: <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;discont_wait: <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a><br>) -&gt; <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#58-63' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Allocate a new <code>AudioStreamAlign</code> with the given configuration. All
processing happens according to sample rate <code>rate</code>, until
<code>gst_audio_discont_wait_set_rate</code> is called with a new <code>rate</code>.
A negative rate can be used for reverse playback.</p>

<p><code>alignment_threshold</code> gives the tolerance in nanoseconds after which a
timestamp difference is considered a discontinuity. Once detected,
<code>discont_wait</code> nanoseconds have to pass without going below the threshold
again until the output buffer is marked as a discontinuity. These can later
be re-configured with <code>AudioStreamAlign::set_alignment_threshold</code> and
<code>AudioStreamAlign::set_discont_wait</code>.</p>

<p>Feature: <code>v1_14</code></p>

<h2 id='rate' class='section-header'><a href='#rate'><code>rate</code></a></h2>
<p>a sample rate</p>

<h2 id='alignment_threshold' class='section-header'><a href='#alignment_threshold'><code>alignment_threshold</code></a></h2>
<p>a alignment threshold in nanoseconds</p>

<h2 id='discont_wait' class='section-header'><a href='#discont_wait'><code>discont_wait</code></a></h2>
<p>discont wait in nanoseconds</p>

<h1 id='returns' class='section-header'><a href='#returns'>Returns</a></h1>
<p>a new <code>AudioStreamAlign</code>. free with <code>AudioStreamAlign::free</code>.</p>
</div><h4 id='method.get_alignment_threshold' class="method"><span id='get_alignment_threshold.v' class='invisible'><code>pub fn <a href='#method.get_alignment_threshold' class='fnname'>get_alignment_threshold</a>(&amp;mut self) -&gt; <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#66-70' title='goto source code'>[src]</a></span></h4>
<h4 id='method.get_discont_wait' class="method"><span id='get_discont_wait.v' class='invisible'><code>pub fn <a href='#method.get_discont_wait' class='fnname'>get_discont_wait</a>(&amp;mut self) -&gt; <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#73-77' title='goto source code'>[src]</a></span></h4>
<h4 id='method.get_rate' class="method"><span id='get_rate.v' class='invisible'><code>pub fn <a href='#method.get_rate' class='fnname'>get_rate</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#80-84' title='goto source code'>[src]</a></span></h4>
<h4 id='method.get_samples_since_discont' class="method"><span id='get_samples_since_discont.v' class='invisible'><code>pub fn <a href='#method.get_samples_since_discont' class='fnname'>get_samples_since_discont</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#96-100' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Returns the number of samples that were processed since the last
discontinuity was detected.</p>

<p>Feature: <code>v1_14</code></p>

<h1 id='returns-1' class='section-header'><a href='#returns-1'>Returns</a></h1>
<p>The number of samples processed since the last discontinuity.</p>
</div><h4 id='method.get_timestamp_at_discont' class="method"><span id='get_timestamp_at_discont.v' class='invisible'><code>pub fn <a href='#method.get_timestamp_at_discont' class='fnname'>get_timestamp_at_discont</a>(&amp;mut self) -&gt; <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#112-116' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Timestamp that was passed when a discontinuity was detected, i.e. the first
timestamp after the discontinuity.</p>

<p>Feature: <code>v1_14</code></p>

<h1 id='returns-2' class='section-header'><a href='#returns-2'>Returns</a></h1>
<p>The last timestamp at when a discontinuity was detected</p>
</div><h4 id='method.mark_discont' class="method"><span id='mark_discont.v' class='invisible'><code>pub fn <a href='#method.mark_discont' class='fnname'>mark_discont</a>(&amp;mut self)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#123-127' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Marks the next buffer as discontinuous and resets timestamp tracking.</p>

<p>Feature: <code>v1_14</code></p>
</div><h4 id='method.set_alignment_threshold' class="method"><span id='set_alignment_threshold.v' class='invisible'><code>pub fn <a href='#method.set_alignment_threshold' class='fnname'>set_alignment_threshold</a>(&amp;mut self, alignment_threshold: <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#130-134' title='goto source code'>[src]</a></span></h4>
<h4 id='method.set_discont_wait' class="method"><span id='set_discont_wait.v' class='invisible'><code>pub fn <a href='#method.set_discont_wait' class='fnname'>set_discont_wait</a>(&amp;mut self, discont_wait: <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#137-141' title='goto source code'>[src]</a></span></h4>
<h4 id='method.set_rate' class="method"><span id='set_rate.v' class='invisible'><code>pub fn <a href='#method.set_rate' class='fnname'>set_rate</a>(&amp;mut self, rate: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i32.html">i32</a>)</code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#144-148' title='goto source code'>[src]</a></span></h4>
</div><h3 id='impl-1' class='impl'><span class='in-band'><code>impl <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl-1' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/audio_stream_align.rs.html#16-62' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.process' class="method"><span id='process.v' class='invisible'><code>pub fn <a href='#method.process' class='fnname'>process</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;discont: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;timestamp: <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;n_samples: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>, <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a>, <a class="struct" href="../gstreamer/clock_time/struct.ClockTime.html" title="struct gstreamer::clock_time::ClockTime">ClockTime</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a></code></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/audio_stream_align.rs.html#53-61' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Processes data with <code>timestamp</code> and <code>n_samples</code>, and returns the output
timestamp, duration and sample position together with a boolean to signal
whether a discontinuity was detected or not. All non-discontinuous data
will have perfect timestamps and durations.</p>

<p>A discontinuity is detected once the difference between the actual
timestamp and the timestamp calculated from the sample count since the last
discontinuity differs by more than the alignment threshold for a duration
longer than discont wait.</p>

<p>Note: In reverse playback, every buffer is considered discontinuous in the
context of buffer flags because the last sample of the previous buffer is
discontinuous with the first sample of the current one. However for this
function they are only considered discontinuous in reverse playback if the
first sample of the previous buffer is discontinuous with the last sample
of the current one.</p>

<p>Feature: <code>v1_14</code></p>

<h2 id='discont' class='section-header'><a href='#discont'><code>discont</code></a></h2>
<p>if this data is considered to be discontinuous</p>

<h2 id='timestamp' class='section-header'><a href='#timestamp'><code>timestamp</code></a></h2>
<p>a <code>gst::ClockTime</code> of the start of the data</p>

<h2 id='n_samples' class='section-header'><a href='#n_samples'><code>n_samples</code></a></h2>
<p>number of samples to process</p>

<h2 id='out_timestamp' class='section-header'><a href='#out_timestamp'><code>out_timestamp</code></a></h2>
<p>output timestamp of the data</p>

<h2 id='out_duration' class='section-header'><a href='#out_duration'><code>out_duration</code></a></h2>
<p>output duration of the data</p>

<h2 id='out_sample_position' class='section-header'><a href='#out_sample_position'><code>out_sample_position</code></a></h2>
<p>output sample position of the start of the data</p>

<h1 id='returns-3' class='section-header'><a href='#returns-3'>Returns</a></h1>
<p><code>true</code> if a discontinuity was detected, <code>false</code> otherwise.</p>
</div></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
        <h3 id='impl-Clone' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl-Clone' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.clone' class="method"><span id='clone.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code></span></h4>
<div class='docblock'><p>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></p>
</div><h4 id='method.clone_from' class="method"><span id='clone_from.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</code></span><span class='out-of-band'><div class='ghost'></div><div class='since' title='Stable since Rust version 1.0.0'>1.0.0</div><a class='srclink' href='https://doc.rust-lang.org/nightly/src/core/clone.rs.html#112-114' title='goto source code'>[src]</a></span></h4>
<div class='docblock'><p>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></p>
</div></div><h3 id='impl-Debug' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl-Debug' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.fmt' class="method"><span id='fmt.v' class='invisible'><code>fn <a href='https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt' class='fnname'>fmt</a>(&amp;self, __arg_0: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></code></span></h4>
<div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></div><h3 id='impl-StaticType' class='impl'><span class='in-band'><code>impl <a class="trait" href="../gstreamer_audio/trait.StaticType.html" title="trait gstreamer_audio::StaticType">StaticType</a> for <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl-StaticType' class='anchor'></a></span><span class='out-of-band'></span></h3>
<div class='impl-items'><h4 id='method.static_type' class="method"><span id='static_type.v' class='invisible'><code>fn <a href='../gstreamer_audio/trait.StaticType.html#tymethod.static_type' class='fnname'>static_type</a>() -&gt; <a class="enum" href="../gstreamer_audio/enum.Type.html" title="enum gstreamer_audio::Type">Type</a></code></span></h4>
<div class='docblock'><p>Returns the type identifier of <code>Self</code>.</p>
</div></div><h3 id='impl-Send' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl-Send' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#151' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div><h3 id='impl-Sync' class='impl'><span class='in-band'><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../gstreamer_audio/struct.AudioStreamAlign.html" title="struct gstreamer_audio::AudioStreamAlign">AudioStreamAlign</a></code><a href='#impl-Sync' class='anchor'></a></span><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../src/gstreamer_audio/auto/audio_stream_align.rs.html#152' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>↑</dt>
                    <dd>Move up in search results</dd>
                    <dt>↓</dt>
                    <dd>Move down in search results</dd>
                    <dt>↹</dt>
                    <dd>Switch tab</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt style="width:31px;">+ / -</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "gstreamer_audio";
    </script>
    <script src="../main.js"></script>
    <script defer src="../search-index.js"></script>
</body>
</html>